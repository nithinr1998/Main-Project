{% extends 'admin/index.html' %}
{% load static %}
{% block content %} 
{% if message %}
<script>
alert("{{ message }}")
</script>
{% endif %}
<!-- Estimate_area start  -->
<div class="Estimate_area overlay">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-body">
                        <p class="text-center mb-4">The Department of Civil Supplies functions under the Department of Food, Civil Supplies and Consumer Affairs of the Government of Kerala.</p>
                        <form id="register-form" action="" method="post">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="card">Card:</label>
                                        <input type="text" id="card" name="card" class="form-control" placeholder="Card color" required>
                                        <span id="cardError" class="text-danger"></span>
                                    </div>
                                </div>
                                
                                <script>
                                    const cardInput = document.getElementById('card');
                                    const cardError = document.getElementById('cardError');
                                
                                    cardInput.addEventListener('input', function() {
                                        const card = cardInput.value.trim();
                                        const isValid = /^[a-zA-Z]{6}$/.test(card);
                                
                                        if (!isValid) {
                                            cardError.textContent = "Card color must be exactly 6 letters and contain only characters.";
                                            cardError.style.display = 'block';
                                        } else {
                                            cardError.textContent = "";
                                            cardError.style.display = 'none';
                                        }
                                    });
                                </script>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="allowed_quantity">Allowed Quantity per Card:</label>
                                        <input type="text" id="allowed_quantity" name="allowed_quantity" class="form-control" placeholder="Allowed quantity per card" required>
                                        <span id="allowedQuantityError" class="text-danger"></span>
                                    </div>
                                </div>
                                
                                <script>
                                    const allowedQuantityInput = document.getElementById('allowed_quantity');
                                    const allowedQuantityError = document.getElementById('allowedQuantityError');
                                
                                    allowedQuantityInput.addEventListener('input', function() {
                                        const allowedQuantity = allowedQuantityInput.value.trim();
                                        const isValid = /^[0-9]+$/.test(allowedQuantity);
                                
                                        if (!isValid) {
                                            allowedQuantityError.textContent = "Allowed quantity per card must contain only numbers.";
                                            allowedQuantityError.style.display = 'block';
                                        } else {
                                            allowedQuantityError.textContent = "";
                                            allowedQuantityError.style.display = 'none';
                                        }
                                    });
                                </script>
                                
                                <div class="col-md-12 text-center">
                                    <div class="form-group">
                                        <input type="submit" value="Create Card Type" class="btn btn-primary btn-lg">                                  
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Estimate_area end  -->
{% endblock  %}
