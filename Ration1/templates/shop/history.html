{% extends 'shop/base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <h2>History Page</h2>
    <div class="row">
        <div class="col-md-12">
            <form method="get" class="mb-3">
                <div class="form-group">
                    <label for="month">Month:</label>
                    <select name="month" id="month" class="form-control">
                        <option value="">All</option>
                    <option value="1">January</option>
                    <option value="2">February</option>
                    <option value="3">March</option>
                    <option value="4">April</option>
                    <option value="5">May</option>
                    <option value="6">June</option>
                    <option value="7">July</option>
                    <option value="8">August</option>
                    <option value="9">September</option>
                    <option value="10">October</option>
                    <option value="11">November</option>
                    <option value="12">December</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Filter</button>
            </form>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th>Quantity</th>
                        <th>Arrived On</th>
                        <th>Amount per Kg or Lt</th>
                        <th>Month</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in history_items %}
                    <tr>
                        <td>{{ item.item.item }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.arrived }}</td>
                        <td>{{ item.amount }}</td>
                        <td>{{ item.arrived|date:"F" }}</td>  <!-- Display the month of the arrived date -->
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
