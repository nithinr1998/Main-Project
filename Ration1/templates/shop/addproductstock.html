{% extends 'shop/base.html' %}
{% load static %}
{% block content %} 
{% if message %}
<script>
    alert("{{ message }}");
</script>
{% endif %}
<!-- Estimate_area start  -->
<div class="Estimate_area overlay">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-body">
                        <h3 class="text-center">Register to avail services</h3>
                        <p class="text-center">The Department of Civil Supplies functions under the Department of Food, Civil Supplies and Consumer Affairs of the Government of Kerala.</p>
                        <div class="text-center mb-3">
                            <a href="#" class="btn btn-primary">+91 9966336699</a>
                        </div>
                        <form id="register-form" action="" method="post" onsubmit="return validateForm()">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="item">Item Name:</label>
                                        <select name="item" class="form-control">
                                            {% for d in item %}
                                                <option value="{{d.id}}">{{d.item}} </option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="quantity">Quantity:</label>
                                        <input type="text" name="quantity" id="quantity" class="form-control" placeholder="Total quantity">
                                        <span id="quantity-error" class="error-message"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="arrived">Item arrived on:</label>
                                        <input type="date" name="arrived" class="form-control" placeholder="Item arrived date">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="amount">Amount per Kg or Lt:</label>
                                        <input type="text" name="amount" id="amount" class="form-control" placeholder="Amount per Kg or Lt">
                                        <span id="amount-error" class="error-message"></span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="card">Allotted to card:</label>
                                        <select name="card" class="form-control">
                                            {% for d in card %}
                                                <option value="{{d.id}}">{{d.card}} </option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="month">Month:</label>
                                        <select name="month" class="form-control">
                                            <option value="1">January</option>
                                            <option value="2">February</option>
                                            <option value="3">March</option>
                                            <option value="4">April</option>
                                            <option value="5">May</option>
                                            <option value="6">June</option>
                                            <option value="7">July</option>
                                            <option value="8">August</option>
                                            <option value="9">September</option>
                                            <option value="10">October</option>
                                            <option value="11">November</option>
                                            <option value="12">December</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-12 text-center">
                                    <div class="form-group">
                                        <input type="submit" value="Add Item" class="btn btn-primary">                                  
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Estimate_area end  -->
<script>
    function validateForm() {
        var quantity = document.getElementById("quantity").value;
        var amount = document.getElementById("amount").value;
        var quantityError = document.getElementById("quantity-error");
        var amountError = document.getElementById("amount-error");

        // Reset previous error messages
        quantityError.innerHTML = "";
        amountError.innerHTML = "";

        // Validate Quantity
        if (quantity === "") {
            quantityError.innerHTML = "Please enter the quantity.";
            return false;
        }

        // Validate Amount
        if (amount === "") {
            amountError.innerHTML = "Please enter the amount.";
            return false;
        }

        // Additional validation rules can be added here

        return true;
    }
</script>
{% endblock %}
