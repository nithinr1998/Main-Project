{% extends 'shopownerbase.html' %}
{% load static %}
{% block body %}
  <style>
    body {
      background-image:url("{% static 'images/r6.jpg' %}");
      background-size: cover;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    th, td {
      text-align: left;
      padding: 8px;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
    }
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    td:last-child {
      text-align: center;
    }
    .save-button {
      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 8px 16px;
      cursor: pointer;
    }
    .delete-button {
      background-color: #dc3545;
      color: #fff;
      border: none;
      padding: 8px 16px;
      cursor: pointer;
    }
  </style>

  <h1>Bookings</h1>
  <form action="{% url 'shophistory' %}" method="post">
    {% csrf_token %}
    <table>
      <thead>
        <tr>
          <th>Customer Name</th>
          <th>Card Number</th>
          <th>Item</th>
          <th>Quantity</th>
          <th>Rate</th>
          <th>Booking Date</th>
          <th>Pickup Time</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for c in book %}
          <tr>
            <td>{{ c.customer_name }}</td>
            <td>{{ c.card_number }}</td>
            <td>{{ c.item }}</td>
            <td>{{ c.quantity }}</td>
            <td>{{ c.rate }}</td>
            <td>{{ c.booking_date }}</td>
            <td>{{ c.pickup_time }}</td>
            <td>
              <select name="status{{ c.id }}">
                <option value="pending" {% if c.status == "pending" %}selected{% endif %}>Pending</option>
                <option value="approved" {% if c.status == "approved" %}selected{% endif %}>Approved</option>
                <option value="delivered" {% if c.status == "delivered" %}selected{% endif %}>delivered</option>
                
              </select>
              <input type="hidden" name="booking_id{{ c.id }}" value="{{ c.id }}">
            </td>
            <td>  
              <button type="submit" class="delete-button" name="delete" value="{{ c.id }}">Delete</button>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <br></br>
    <button type="submit" class="save-button">Save </button>
  </form>
{% endblock body%}
